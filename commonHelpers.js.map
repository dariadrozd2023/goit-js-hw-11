{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst refs = {\n    formSearch: document.getElementById('formSearch'),\n    inputSearch: document.getElementById('inputSearch'),\n    btnSearch: document.getElementById('btnSearch'),\n    galleryList: document.querySelector('.js-ImagesCart'),\n    loader: document.querySelector('.loader'),\n\n  };\n\n  \n  export function checkInput() {\n    const inputValue = refs.inputSearch.value.trim();\n    const placeholderValue = refs.inputSearch.placeholder;\n  \n    if (inputValue === '' || inputValue === placeholderValue) {\n      iziToast.show({\n        message: 'Please, enter the name of the picture you are looking for',\n        timeout: 5000,\n        backgroundColor: '#a0cdde',\n      });\n  \n      refs.btnSearch.disabled = true; // робимо кнопку неактивною\n      return false;\n    } else {\n      refs.btnSearch.disabled = false; // робимо кнопку активною у разі успіху\n      return true;\n    }\n  }\n  // export function checkInput() {\n  //   const inputValue = refs.inputSearch.value.trim();\n  //   const placeholderValue = refs.inputSearch.placeholder;\n  \n  //   if (inputValue === '' || inputValue === placeholderValue) {\n  //     iziToast.show({\n  //       message: 'Please, enter the name of the picture you are looking for',\n  //       timeout: 5000,\n  //       backgroundColor: '#a0cdde',\n  //     });\n  \n  //     refs.btnSearch.disabled = true; // робимо кнопку неактивною\n  //     return;\n  //   } else {\n  //     refs.btnSearch.disabled = false; // робимо кнопку активною у разі успіху\n  //   }\n  // }\n ","// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// // import * as basicLightbox from 'basiclightbox';\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import * as Pixibay from '/js/pixabay-api';\n\n// const refs = {\n//   formSearch: document.getElementById('formSearch'),\n//   inputSearch: document.getElementById('inputSearch'),\n//   btnSearch: document.getElementById('btnSearch'),\n//   galleryList: document.querySelector('.js-ImagesCart'),\n//   loader: document.querySelector('.loader'),\n// };\n// refs.formSearch.addEventListener('submit', onBtnSearch);\n// // refs.galleryList.addEventListener('click', showLargeImg);\n\n// const lightbox = new SimpleLightbox('.js-ImagesCart a', {\n//   captionsData: 'alt',\n//   captionDelay: 250,\n// });\n\n// export function onBtnSearch(event) {\n//   event.preventDefault();\n//  checkInput();\n\n\n\n//   const URL_SEARCH_IMAGES = 'https://pixabay.com/api/';\n//   const API_KEY = '43910002-4f8293575df59775d1c0606c1';\n//   const inputValue = refs.inputSearch.value.trim();\n\n//   const params = new URLSearchParams({\n//     key: API_KEY,\n//     q: inputValue,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//     lang: 'en',\n//   });\n\n//   refs.loader.style.display = 'block';\n\n//   return fetch(`${URL_SEARCH_IMAGES}?${params}`)\n//     .then(res => {\n//       if (!res.ok) {\n//         throw new Error(res.statusText);\n//       }\n//       return res.json();\n//     })\n//     .then(data => {\n//       if (data.hits.length === 0) {\n//         iziToast.show({\n//           message:\n//             'Sorry, there are no images matching your search query. Please, try again!',\n//           timeout: 5000,\n//           backgroundColor: '#EF4040',\n//         });\n//         return;\n//       }\n//       refs.galleryList.innerHTML = markUpSearchImg(data.hits);\n//       lightbox.refresh();\n//     })\n//     .catch(error => {\n//       console.log(error);\n//       iziToast.show({\n//         message: 'Something went wrong. Please, try again later.',\n//         timeout: 5000,\n//         backgroundColor: '#EF4040',\n//       });\n//     })\n//     .finally(() => {\n//       refs.loader.style.display = 'none';\n//     });\n// }\n// function markUpSearchImg(arr) {\n//   return arr\n//     .map(\n//       ({\n//         webformatURL,\n//         largeImageURL,\n//         tags,\n//         likes,\n//         views,\n//         comments,\n//         downloads,\n//       }) =>\n//         `\n//           <li class=\"js-list\">\n//               <a href=\"${largeImageURL}\"><img class=\"js-image\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n//               <ul class=\"js-dates\">\n//                   <li class=\"js-likes\">Likes: ${likes}</li>\n//                   <li class=\"js-views\">Views: ${views}</li>\n//                   <li class=\"js-comments\">Comments: ${comments}</li>\n//                   <li class=\"js-downloads\">Downloads: ${downloads}</li>\n//               </ul>\n//           </li>\n//       `\n//     )\n//     .join('');\n// }\n\n\n//  function checkInput() {\n//     const inputValue = refs.inputSearch.value.trim();\n//     const placeholderValue = refs.inputSearch.placeholder;\n  \n//     if (inputValue === '' || inputValue === placeholderValue) {\n//       iziToast.show({\n//         message: 'Please, enter the name of the picture you are looking for',\n//         timeout: 5000,\n//         backgroundColor: '#a0cdde',\n//       });\n  \n//       refs.btnSearch.disabled = true; // робимо кнопку неактивною\n//       return;\n//     } else {\n//       refs.btnSearch.disabled = false; // робимо кнопку активною у разі успіху\n//     }\n//   }\n \n// // function showLargeImg(event) {\n// //   event.preventDefault();\n// //   if (event.target.nodeName !== 'IMG') {\n// //     return;\n// //   }\n//   // const largeImageURL = event.target.closest('a').href;\n//   // const instance = basicLightbox.create(\n//   //   `<img src=\"${largeImageURL}\" width=\"800\" height=\"600\" alt=\"${event.target.alt}\">`,\n//   //   {\n//   //     onShow: () => {\n//   //       document.addEventListener('keydown', handleEscapeKeyPress);\n//   //     },\n//   //     onClose: () => {\n//   //       document.removeEventListener('keydown', handleEscapeKeyPress);\n//   //     },\n//   //   }\n//   // );\n\n// // }\n// // function handleEscapeKeyPress(event) {\n// //   if (event.code === 'Escape') {\n// //     const instance = basicLightbox.visible();\n// //     if (instance) {\n// //       instance.close();\n// //     }\n// //   }\n// // }\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n// import * as basicLightbox from 'basiclightbox';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport * as Pixibay from '/js/pixabay-api';\n\nconst refs = {\n  formSearch: document.getElementById('formSearch'),\n  inputSearch: document.getElementById('inputSearch'),\n  btnSearch: document.getElementById('btnSearch'),\n  galleryList: document.querySelector('.js-ImagesCart'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.formSearch.addEventListener('submit', onBtnSearch);\n\nconst lightbox = new SimpleLightbox('.js-ImagesCart a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n\nexport function onBtnSearch(event) {\n  event.preventDefault();\n\n  if (!Pixibay.checkInput()) {\n    return;\n  }\nrefs.galleryList.innerHTML = '';\n  const URL_SEARCH_IMAGES = 'https://pixabay.com/api/';\n  const API_KEY = '43910002-4f8293575df59775d1c0606c1';\n  const inputValue = refs.inputSearch.value.trim();\n  \n\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    lang: 'en',\n  });\n  \n  refs.loader.style.display = 'block';\n\n  fetch(`${URL_SEARCH_IMAGES}?${params}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.statusText);\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images matching your search query. Please, try again!',\n          timeout: 5000,\n          backgroundColor: '#EF4040',\n        });\n        return;\n      }\n      refs.galleryList.innerHTML = markUpSearchImg(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n      iziToast.show({\n        message: 'Something went wrong. Please, try again later.',\n        timeout: 5000,\n        backgroundColor: '#EF4040',\n      });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n}\n\nfunction markUpSearchImg(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `\n          <li class=\"js-list\">\n              <a href=\"${largeImageURL}\"><img class=\"js-image\" src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n              <ul class=\"js-dates\">\n                  <li class=\"js-likes\">Likes: ${likes}</li>\n                  <li class=\"js-views\">Views: ${views}</li>\n                  <li class=\"js-comments\">Comments: ${comments}</li>\n                  <li class=\"js-downloads\">Downloads: ${downloads}</li>\n              </ul>\n          </li>\n      `\n    )\n    .join('');\n}\n\n// Додаємо обробники подій до інпуту для очищення та відновлення placeholder\nrefs.inputSearch.addEventListener('focus', () => {\n  refs.inputSearch.placeholder = ''; // Очищаємо placeholder при фокусі\n});\n\nrefs.inputSearch.addEventListener('blur', () => {\n  if (refs.inputSearch.value.trim() === '') {\n    refs.inputSearch.placeholder = 'Please enter something'; // Відновлюємо placeholder при втраті фокуса, якщо інпут порожній\n  }\n});\n","import * as Render from './js/render-functions';\nimport * as Pixibay from './js/pixabay-api';\n\nconst refs = {\n  formSearch: document.getElementById('formSearch'),\n  inputSearch: document.getElementById('inputSearch'),\n  btnSearch: document.getElementById('btnSearch'),\n  galleryList: document.querySelector('.js-ImagesCart'),\n  loader: document.querySelector('.loader'),\n\n};\n\nrefs.formSearch.addEventListener('submit', Pixibay.submitSearch);\nrefs.inputSearch.addEventListener('input', Pixibay.checkInput);\nrefs.btnSearch.addEventListener('click', Render.onBtnSearch);\n"],"names":["refs","checkInput","inputValue","placeholderValue","iziToast","onBtnSearch","lightbox","SimpleLightbox","event","Pixibay.checkInput","URL_SEARCH_IMAGES","API_KEY","params","res","data","markUpSearchImg","error","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","Pixibay.submitSearch","Render.onBtnSearch"],"mappings":"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"}